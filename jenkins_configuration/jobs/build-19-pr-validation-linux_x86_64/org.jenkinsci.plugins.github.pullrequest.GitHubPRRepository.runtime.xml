<org.jenkinsci.plugins.github.pullrequest.GitHubPRRepository plugin="github-pullrequest@0.4.0">
  <fullName>SAP/SapMachine</fullName>
  <githubUrl>https://github.com/SAP/SapMachine</githubUrl>
  <gitUrl>git://github.com/SAP/SapMachine.git</gitUrl>
  <sshUrl>git@github.com:SAP/SapMachine.git</sshUrl>
  <pulls class="concurrent-hash-map">
    <entry>
      <int>1141</int>
      <org.jenkinsci.plugins.github.pullrequest.GitHubPRPullRequest>
        <number>1141</number>
        <issueUpdatedAt>2022-06-14 14:30:42.0 UTC</issueUpdatedAt>
        <title>SapMachine #1124: Vitals: June 22 package</title>
        <body># Vitals June 22 update

This is a large bulk patch, containing a number of new features and fixes which have accumulated upstream.

The most important changes are related to the new cgroups support and the new Vitals high memory report facility. A lot of the new code comes from greatly expanded regression tests.

## High Memory Reports

SapMachine now has "high memory reports". They are only loosely connected to Vitals but combined with them in this patch to simplify logistics.

In short, Vitals High Memory Reports are a early warning system to report on raising memory pressure. They are described here [1] and [2] in much more detail.

The implementation lives in os/linux/vitals_linux_himemreport.cpp (since its a Linux-only feature for now).

## container support

Vitals now shows cgroups relevant information if the VM runs inside cgroups (which atm includes systemd). It shows:
- memory used and memory limit
- soft limit
- kernel memory usage

At first I had also included memory+swap usage and limit, but after some consideration I excluded those again, since I did not see these values used in typical container environments and the table became too wide; when in doubt, we can re-add them again.

The cgroup support was tested and works for both cgroup v1 and v2, under Docker, bare metal, and artificially created cgroups.

## A lot more tests

For one, I greatly expanded the value semantical tests, testing each value for reasonability and consistency. The new HiMemReport feature comes with its own series of tests.

fixes #1124
</body>
        <prUpdatedAt>2022-06-14 14:30:42.0 UTC</prUpdatedAt>
        <headSha>ef2e41026aa43193d3995df676a190228e8ba718</headSha>
        <headRef>Vitals-June22</headRef>
        <mergeable>true</mergeable>
        <baseRef>sapmachine</baseRef>
        <userLogin>tstuefe</userLogin>
        <htmlUrl>https://github.com/SAP/SapMachine/pull/1141</htmlUrl>
        <labels />
        <lastCommentCreatedAt>2022-06-14 14:12:49.0 UTC</lastCommentCreatedAt>
        <sourceRepoOwner>tstuefe</sourceRepoOwner>
        <state>OPEN</state>
        <inBadState>false</inBadState>
      </org.jenkinsci.plugins.github.pullrequest.GitHubPRPullRequest>
    </entry>
  </pulls>
</org.jenkinsci.plugins.github.pullrequest.GitHubPRRepository>